# .NET中常用的数据结构

## IEnumerable
几个命名空间：

+ [System.Collections.Concurrent](https://docs.microsoft.com/en-us/dotnet/api/system.collections.concurrent?view=net-6.0)
+ [System.Collections.Generic](https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic?view=net-6.0)

> 参考阅读：[Thread-Safe Collections](https://docs.microsoft.com/en-us/dotnet/standard/collections/thread-safe/)

问：Dictionary<TKey,TValue>的内部实现？哈希冲突的解决方案有哪几种？

答：

问：List<T>的内部实现？

答：

问：ConcurrentDictionary GetOrAdd/AddOrUpdate 非原子性操作（非线程安全？）

答：

> [Making ConcurrentDictionary GetOrAdd thread safe using Lazy](https://andrewlock.net/making-getoradd-on-concurrentdictionary-thread-safe-using-lazy/)
>
> [How to add and remove items from a ConcurrentDictionary](https://learn.microsoft.com/en-us/dotnet/standard/collections/thread-safe/how-to-add-and-remove-items?redirectedfrom=MSDN)
>
> [ConcurrentDictionary字典操作竟然不全是线程安全的？](https://mp.weixin.qq.com/s/26mqwUpt4ki5dkg9yk1L5w)
>
> [The description is ambiguous about ConcurrentDictionary<TKey,TValue> thread safety](https://github.com/dotnet/dotnet-api-docs/issues/8441)
>
> [GetOrAdd is not thread safe which is counter intuitive](https://github.com/dotnet/docs/issues/7704)

问：线程安全和原子性操作的区别，Thread-safe vs atomic

答：

## 表达式树

[System.Linq.Expressions Namespace](https://docs.microsoft.com/en-us/dotnet/api/system.linq.expressions?view=net-6.0)